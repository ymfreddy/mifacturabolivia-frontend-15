<p-blockUI [blocked]="submited"> <app-bloqueo></app-bloqueo></p-blockUI>
<form [formGroup]="itemForm" (ngSubmit)="onSubmit()" autocomplete="off">
    <div class="card">
        <div class="p-fluid p-formgrid grid">
            <div class="field col-12 md:col-3">
                <label>Código Asociacion</label>
                <input formControlName="codigoAsociacion" type="text" pInputText id="codigoAsociacion" [readonly]="true"  tabindex="-1"  />
            </div>
            <div class="field col-12 md:col-3">
                <label>Empresa</label>
                <p-dropdown appendTo="body" formControlName="idEmpresa" id="idEmpresa" [autofocus]="true"
                [options]="listaEmpresas" optionLabel="nombre" optionValue="id"
                placeholder="Seleccione una opción"
                ></p-dropdown>
                <small class="p-error block" *ngIf="itemForm.get('idEmpresa')?.hasError('required')">Dato requerido.</small>
            </div>
            <div class="field col-12 md:col-3">
                <label>Sistema</label>
                <p-dropdown appendTo="body" formControlName="idSistema" id="idSistema" [autofocus]="true"
                [options]="listaSistemas" optionLabel="nombre" optionValue="id"
                placeholder="Seleccione una opción"
                ></p-dropdown>
                <small class="p-error block" *ngIf="itemForm.get('idSistema')?.hasError('required')">Dato requerido.</small>
            </div>
            <div class="field col-12 md:col-3">
                <label>Estado</label>
                <p-dropdown appendTo="body" formControlName="idEstadoAsociacion" id="idEstadoAsociacion" [autofocus]="true"
                [options]="listaEstados" optionLabel="nombre" optionValue="id"
                placeholder="Seleccione una opción"
                ></p-dropdown>
                <small class="p-error block" *ngIf="itemForm.get('idEstadoAsociacion')?.hasError('required')">Dato requerido.</small>
            </div>
            <div class="field col-12 md:col-3">
                <label>Ambiente</label>
                <p-dropdown appendTo="body" formControlName="ambiente" id="ambiente" [autofocus]="true"
                [options]="listaAmbientes" optionLabel="nombre" optionValue="valor"
                placeholder="Seleccione una opción"
                ></p-dropdown>
                <small class="p-error block" *ngIf="itemForm.get('ambiente')?.hasError('required')">Dato requerido.</small>
            </div>
            <div class="field col-12 md:col-3">
                <label>Modalidad</label>
                <p-dropdown appendTo="body" formControlName="modalidad" id="modalidad" [autofocus]="true"
                [options]="listaModalidades" optionLabel="nombre" optionValue="valor"
                placeholder="Seleccione una opción"
                ></p-dropdown>
                <small class="p-error block" *ngIf="itemForm.get('modalidad')?.hasError('required')">Dato requerido.</small>
            </div>
            <div class="field col-12 md:col-3">
                <label htmlFor="name2">Private Key</label>
                <input formControlName="privateKey" type="text" pInputText id="privateKey" maxlength="35" [readonly]="true"  tabindex="-1" />
            </div>
            <div class="field col-12 md:col-3">
                <label htmlFor="name2">Public Key</label>
                <input formControlName="publicKey" type="text" pInputText id="publicKey" maxlength="35" [readonly]="true"  tabindex="-1"  />
            </div>
            <div class="field col-12 md:col-12">
                <label>Token</label>
                <input formControlName="token" type="text" pInputText id="token" maxlength="500" #token />
            </div>
            <div class="field col-12 md:col-6">
                Conexion Automatica
                <div class="field">
                    <input id="remember-me" type="checkbox" formControlName="conexionAutomatica">
                </div>
            </div>
        </div>
    </div>
    <div class="flex justify-content-end flex-wrap">
        <button pButton pRipple label="Cancelar" icon="pi pi-times" class="p-button-secondary p-button-text"
            (click)="onClose()"></button>
        <button pButton pRipple label="Aceptar" icon="pi pi-check" class="p-button-text" (click)="onSave()"></button>
    </div>
</form>
