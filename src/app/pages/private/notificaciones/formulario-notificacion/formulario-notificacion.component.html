<p-blockUI [blocked]="submited"> <app-bloqueo></app-bloqueo></p-blockUI>
<form [formGroup]="itemForm" (ngSubmit)="onSubmit()" autocomplete="off">
    <div class="card">
        <div class="p-fluid p-formgrid grid">
            <div class="field col-12 md:col-4">
                <label>Empresa</label>
                <p-dropdown appendTo="body" formControlName="nit" id="nit"
                    [options]="listaEmpresas" optionLabel="nombre" optionValue="nit"  placeholder="TODOS" (onChange)="cambioEmpresa($event)"
                    [showClear]="true"
                    ></p-dropdown>
            </div>
            <div class="field col-12 md:col-2">
                <label>Usuario</label>
                <p-dropdown appendTo="body" formControlName="usuario" id="usuario" [options]="listaUsuarios"
                    optionLabel="username" optionValue="username" [showClear]="true" placeholder="TODOS">
                </p-dropdown>
            </div>
            <div class="field col-12 md:col-6">
                <label>Titulo</label>
                <input formControlName="titulo" uppercase type="text" pInputText id="titulo" maxlength="255" />
                <small class="p-error block" *ngIf="itemForm.get('titulo')?.hasError('required')">Dato requerido.</small>
            </div>
            <div class="field col-12 md:col-12">
                <label>Mensaje</label>
                <p-editor formControlName="mensaje" id="mensaje" [style]="{'height':'320px'}"></p-editor>
                <small class="p-error block" *ngIf="itemForm.get('mensaje')?.hasError('required')">Dato requerido.</small>
            </div>
        </div>
    </div>
    <div class="flex justify-content-end flex-wrap">
        <button pButton pRipple label="Cancelar" icon="pi pi-times" class="p-button-secondary p-button-text" (click)="onClose()"></button>
        <button pButton pRipple label="Aceptar" icon="pi pi-check" class="p-button-text" (click)="onSave()"></button>
    </div>
</form>
